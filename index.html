<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Croch√™ da Zeni</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root {
      --roxo: #7b2cbf;
      --roxo-escuro: #5a189a;
      --rosa: #f7cad0;
      --creme: #fff5e6;
      --creme-forte: #ffe0b2;
      --escuro: #33272a;
      --verde: #4caf50;
      --fundo-gradiente: linear-gradient(135deg, #fff5f8, #ffe9d6);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: var(--fundo-gradiente);
      color: var(--escuro);
      line-height: 1.6;
    }

    header {
      background: rgba(255,255,255,0.96);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid #f0dede;
      padding: 0.7rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 20;
    }

    header h1 {
      font-size: 1.4rem;
      color: var(--roxo-escuro);
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    header h1 span {
      font-size: 1.2rem;
    }

    nav a {
      margin-left: 1rem;
      text-decoration: none;
      color: var(--escuro);
      font-weight: 500;
      font-size: 0.95rem;
    }

    nav a:hover {
      color: var(--roxo);
    }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 1.5rem;
    }

    .linha-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .btn-admin-header {
      border-radius: 999px;
      border: 1px dashed var(--roxo-escuro);
      background: #fff;
      color: var(--roxo-escuro);
      font-size: 0.8rem;
      padding: 0.3rem 0.8rem;
      cursor: pointer;
    }

    .btn-admin-header:hover {
      background: var(--rosa);
    }

    /* BOT√ïES GERAIS */
    .btn-primary, .btn-secondary, .btn-small, .btn-danger {
      display: inline-block;
      padding: 0.7rem 1.2rem;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      margin-right: 0.7rem;
      margin-top: 0.5rem;
      text-decoration: none;
      text-align: center;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.2s ease;
    }

    .btn-primary {
      background: var(--roxo);
      color: #fff;
      box-shadow: 0 4px 12px rgba(123,44,191,0.4);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(123,44,191,0.5);
      background: var(--roxo-escuro);
    }

    .btn-secondary {
      background: #fff;
      color: var(--roxo-escuro);
      border: 1px solid var(--roxo-escuro);
    }

    .btn-secondary:hover {
      background: var(--rosa);
    }

    .btn-small {
      padding: 0.4rem 0.9rem;
      font-size: 0.85rem;
      background: var(--verde);
      color: #fff;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    }

    .btn-small:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .btn-danger {
      padding: 0.4rem 0.9rem;
      font-size: 0.8rem;
      background: #c0392b;
      color: #fff;
    }

    .btn-danger:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(192,57,43,0.5);
    }

    /* HERO */
    #hero {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 2rem;
      align-items: center;
      padding: 2.5rem 0 2rem;
    }

    #hero-text h2 {
      font-size: 2.1rem;
      margin-bottom: 1rem;
      color: var(--roxo-escuro);
    }

    #hero-text p {
      margin-bottom: 1rem;
      font-size: 1.03rem;
    }

    .badge {
      display: inline-block;
      background: var(--creme-forte);
      color: var(--escuro);
      padding: 0.25rem 0.9rem;
      border-radius: 999px;
      font-size: 0.8rem;
      margin-bottom: 0.8rem;
      border: 1px solid rgba(255, 193, 140, 0.8);
    }

    .destaque-info {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      font-size: 0.9rem;
      margin-top: 0.6rem;
      color: #555;
    }

    .pill {
      background: rgba(255,255,255,0.9);
      border-radius: 999px;
      padding: 0.25rem 0.8rem;
      border: 1px solid #f0dede;
      display: flex;
      align-items: center;
      gap: 0.3rem;
      font-size: 0.85rem;
    }

    #hero-img {
      background: linear-gradient(145deg, #ffffff, #ffe3f0);
      border-radius: 1.5rem;
      padding: 1.5rem;
      text-align: center;
      box-shadow: 0 14px 30px rgba(0,0,0,0.08);
      position: relative;
      overflow: hidden;
    }

    #hero-img::before {
      content: "";
      position: absolute;
      width: 180px;
      height: 180px;
      background: radial-gradient(circle, rgba(123,44,191,0.15), transparent 60%);
      top: -40px;
      right: -40px;
    }

    #hero-img img {
      max-width: 100%;
      border-radius: 1.2rem;
      object-fit: cover;
    }

    #hero-img p {
      margin-top: 0.8rem;
      font-size: 0.9rem;
      color: #555;
    }

    /* SE√á√ïES */
    section {
      margin-bottom: 2.5rem;
    }

    section h3 {
      font-size: 1.5rem;
      margin-bottom: 0.3rem;
      color: var(--roxo-escuro);
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    section p.section-subtitle {
      margin-bottom: 1rem;
      color: #555;
      font-size: 0.95rem;
    }

    /* BLOCO / FORM */
    .form-block {
      background: rgba(255,255,255,0.98);
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 4px 18px rgba(0,0,0,0.06);
      margin-bottom: 1rem;
      border: 1px solid rgba(255,255,255,0.6);
    }

    .form-block h4 {
      margin-bottom: 0.5rem;
      font-size: 1rem;
      color: var(--escuro);
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .form-block h4 span {
      font-size: 1.1rem;
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 0.8rem;
      margin-top: 0.5rem;
      align-items: end;
    }

    label {
      font-size: 0.85rem;
      display: block;
      margin-bottom: 0.2rem;
    }

    input[type="text"],
    input[type="number"],
    input[type="url"],
    textarea {
      width: 100%;
      padding: 0.45rem 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #ddd;
      font-size: 0.9rem;
      background: #fff;
    }

    textarea {
      resize: vertical;
      min-height: 60px;
    }

    /* CAT√ÅLOGO */
    .caixa-section {
      background: rgba(255,255,255,0.92);
      border-radius: 1.2rem;
      padding: 1.1rem;
      box-shadow: 0 8px 24px rgba(0,0,0,0.05);
      border: 1px solid rgba(255,255,255,0.7);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.2rem;
    }

    .card {
      background: #fff;
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 4px 14px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      border: 1px solid #f2d9ff;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      width: 80px;
      height: 80px;
      background: radial-gradient(circle, rgba(123,44,191,0.1), transparent 60%);
      top: -20px;
      right: -20px;
    }

    .card img {
      width: 100%;
      border-radius: 0.8rem;
      margin-bottom: 0.6rem;
      object-fit: cover;
      max-height: 180px;
    }

    .card h4 {
      font-size: 1.05rem;
      margin-bottom: 0.3rem;
      color: var(--roxo-escuro);
    }

    .card p {
      font-size: 0.9rem;
      margin-bottom: 0.2rem;
    }

    .price {
      font-weight: 700;
      color: var(--roxo);
      margin-top: 0.4rem;
    }

    .card-actions {
      margin-top: 0.6rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.3rem;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .tag-disponivel {
      font-size: 0.75rem;
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      background: #e8f5e9;
      color: #2e7d32;
      border: 1px solid #c8e6c9;
      display: inline-block;
      margin-top: 0.2rem;
    }

    .empty-msg {
      font-size: 0.9rem;
      color: #777;
      margin-top: 0.5rem;
    }

    /* RIFA */
    .rifa-card {
      background: #fff;
      border-radius: 1rem;
      padding: 1.2rem;
      box-shadow: 0 4px 14px rgba(0,0,0,0.05);
      border: 1px solid #ffe0f0;
    }

    .rifa-header {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 1rem;
      align-items: center;
      justify-content: space-between;
    }

    .rifa-info p {
      font-size: 0.92rem;
    }

    .rifa-info .valor-rifa {
      font-weight: 700;
      color: var(--roxo);
      margin-top: 0.2rem;
    }

    .badge-rifa {
      padding: 0.25rem 0.7rem;
      border-radius: 999px;
      background: #fff3cd;
      color: #856404;
      font-size: 0.75rem;
      border: 1px solid #ffeeba;
    }

    .numeros-grid {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 0.4rem;
      margin: 1rem 0;
    }

    .numero-btn {
      border: 1px solid #ddd;
      border-radius: 0.5rem;
      padding: 0.3rem 0;
      font-size: 0.8rem;
      text-align: center;
      cursor: pointer;
      background: #fff;
      transition: background 0.15s ease, transform 0.05s ease, box-shadow 0.1s ease;
    }

    .numero-btn:hover {
      background: #f3e5f5;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }

    .numero-btn.selecionado {
      background: var(--roxo);
      color: #fff;
      border-color: var(--roxo);
      box-shadow: 0 2px 8px rgba(123,44,191,0.5);
      transform: translateY(-1px);
    }

    .numero-btn.reservado {
      background: #e0e0e0;
      color: #666;
      cursor: not-allowed;
      text-decoration: line-through;
      box-shadow: none;
    }

    .rifa-resumo {
      font-size: 0.9rem;
      margin-bottom: 0.4rem;
    }

    .rifa-resumo strong {
      color: var(--escuro);
    }

    .pix-box {
      background: var(--creme);
      border-radius: 0.8rem;
      padding: 0.8rem;
      font-size: 0.9rem;
      margin-top: 0.8rem;
      border: 1px solid #ffd8a6;
    }

    .pix-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.3rem;
      margin-bottom: 0.4rem;
    }

    .pix-row input {
      flex: 1;
      padding: 0.45rem 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #ddd;
      font-size: 0.9rem;
      background: #fff;
    }

    .pix-label {
      font-size: 0.85rem;
      color: #555;
    }

    /* PARTICIPANTES */
    .tabela-participantes {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      font-size: 0.85rem;
      background: #fffdf9;
    }

    .tabela-participantes th,
    .tabela-participantes td {
      border: 1px solid #eee;
      padding: 0.4rem 0.5rem;
      text-align: left;
    }

    .tabela-participantes th {
      background: #f9f1ff;
      color: var(--escuro);
      font-weight: 600;
    }

    /* SORTEIO */
    .card-sorteio {
      background: #fff;
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 4px 14px rgba(0,0,0,0.06);
      border: 1px solid #e1bee7;
    }

    .resultado-sorteio {
      margin-top: 0.8rem;
      padding: 0.8rem;
      border-radius: 0.8rem;
      background: #f3e5f5;
      border: 1px solid #e1bee7;
    }

    .resultado-sorteio h4 {
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
      color: var(--roxo-escuro);
    }

    .resultado-sorteio p {
      font-size: 0.9rem;
    }

    .badge-status {
      font-size: 0.78rem;
      padding: 0.15rem 0.5rem;
      border-radius: 999px;
      background: #e3f2fd;
      color: #1565c0;
      border: 1px solid #bbdefb;
      display: inline-block;
      margin-bottom: 0.4rem;
    }

    footer {
      text-align: center;
      padding: 1.5rem;
      font-size: 0.85rem;
      color: #777;
      border-top: 1px solid #f0dede;
      margin-top: 2rem;
      background: rgba(255,255,255,0.9);
    }

    .admin-indicador {
      font-size: 0.8rem;
      color: #2e7d32;
      margin-top: 0.2rem;
      display: none;
    }

    .admin-indicador.mostrar {
      display: inline-block;
    }

    @media (max-width: 768px) {
      #hero {
        grid-template-columns: 1fr;
      }
      header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.4rem;
      }
      .numeros-grid {
        grid-template-columns: repeat(5, 1fr);
      }
      .tabela-participantes th,
      .tabela-participantes td {
        font-size: 0.78rem;
      }
    }
  </style>
</head>

<body>

<header>
  <h1><span>üß∂</span>Croch√™ da Zeni</h1>
  <nav>
    <a href="#hero">In√≠cio</a>
    <a href="#catalogo">Cat√°logo</a>
    <a href="#rifas">Rifas</a>
    <a href="#sorteio">Sorteio</a>
    <a href="#contato">Contato</a>
  </nav>
</header>

<main class="container">

  <div class="linha-top">
    <p style="font-size:0.85rem;color:#555;">
      Site oficial do <strong>Croch√™ da Zeni</strong> ‚Äì pe√ßas artesanais, rifas transparentes e contato direto pelo WhatsApp.
    </p>
    <div>
      <button id="btnAdmin" class="btn-admin-header">√Årea da Zeni (admin)</button>
      <span id="indicadorAdmin" class="admin-indicador">Modo administradora ativo</span>
    </div>
  </div>

  <!-- HERO -->
  <section id="hero">
    <div id="hero-text">
      <span class="badge">Mulher guerreira, arte em cada ponto</span>
      <h2>Croch√™ que aquece a casa e o cora√ß√£o</h2>
      <p>No Croch√™ da Zeni, cada pe√ßa √© feita com carinho, paci√™ncia e f√©. Tapetes, caminhos de mesa e cria√ß√µes √∫nicas para deixar qualquer ambiente mais acolhedor.</p>
      <p>Veja o cat√°logo, participe das rifas e apoie o trabalho de uma artes√£ que transforma linha em hist√≥ria.</p>

      <a href="#catalogo" class="btn-primary">Ver cat√°logo de pe√ßas</a>
      <a href="#rifas" class="btn-secondary">Participar da rifa</a>

      <div class="destaque-info">
        <div class="pill">üßµ Pe√ßas artesanais exclusivas</div>
        <div class="pill">üéü Rifas com transpar√™ncia</div>
        <div class="pill">üí¨ Contato direto pelo WhatsApp</div>
      </div>
    </div>

    <div id="hero-img">
      <img src="https://images.pexels.com/photos/3945632/pexels-photo-3945632.jpeg"
           alt="Mulher fazendo croch√™ com barbantes coloridos">
      <p>Imagem ilustrativa ‚Äì voc√™ pode trocar por uma foto da Zeni ou das pe√ßas de croch√™.</p>
    </div>
  </section>

  <!-- CAT√ÅLOGO -->
  <section id="catalogo">
    <h3>üõí Cat√°logo de Pe√ßas</h3>
    <p class="section-subtitle">
      Aqui voc√™ encontra as pe√ßas prontas de croch√™: tapetes, caminhos de mesa, jogos de cozinha e muito mais.
    </p>

    <div class="caixa-section">
      <div class="form-block admin-only">
        <h4><span>‚úèÔ∏è</span> Gerenciar cat√°logo (Zeni)</h4>
        <p style="font-size:0.85rem;color:#777;margin-bottom:0.5rem;">
          Esta √°rea √© exclusiva para a Zeni cadastrar, editar ou excluir pe√ßas. Os clientes s√≥ visualizam o cat√°logo pronto.
        </p>
        <form id="formCatalogo">
          <div class="form-grid">
            <div>
              <label for="nomePeca">Nome da pe√ßa</label>
              <input type="text" id="nomePeca" placeholder="Ex.: Tapete Oval Floral" required>
            </div>
            <div>
              <label for="descricaoPeca">Descri√ß√£o</label>
              <textarea id="descricaoPeca" placeholder="Tamanho, cores, detalhes..." required></textarea>
            </div>
            <div>
              <label for="precoPeca">Pre√ßo (R$)</label>
              <input type="number" id="precoPeca" min="0" step="0.01" placeholder="Ex.: 120,00" required>
            </div>
            <div>
              <label for="imagemPeca">Link da imagem (URL)</label>
              <input type="url" id="imagemPeca" placeholder="Cole aqui o link da foto da pe√ßa (opcional)">
            </div>
            <div>
              <button type="submit" class="btn-small">Salvar pe√ßa</button>
            </div>
          </div>
        </form>
        <p class="empty-msg" id="msgCatalogoVazio">Nenhuma pe√ßa cadastrada ainda. Quando a Zeni cadastrar, o cat√°logo aparecer√° aqui para todos.</p>
      </div>

      <div class="grid" id="catalogoGrid"></div>
    </div>
  </section>

  <!-- RIFAS -->
  <section id="rifas">
    <h3>üéü Rifas de Croch√™</h3>
    <p class="section-subtitle">
      Participe das rifas oficiais do Croch√™ da Zeni. Escolha seus n√∫meros, fa√ßa o Pix e envie o comprovante pelo WhatsApp.
    </p>

    <div class="caixa-section">
      <div class="form-block admin-only">
        <h4><span>‚öôÔ∏è</span> Configurar rifa atual (Zeni)</h4>
        <p style="font-size:0.85rem;color:#777;margin-bottom:0.5rem;">
          Aqui a Zeni define o pr√™mio e o valor por n√∫mero. Os participantes s√≥ poder√£o escolher n√∫meros depois disso.
        </p>
        <form id="formRifa">
          <div class="form-grid">
            <div>
              <label for="premioRifa">Pr√™mio da rifa</label>
              <input type="text" id="premioRifa" placeholder="Ex.: Tapete grande para sala" required>
            </div>
            <div>
              <label for="valorNumeroRifa">Valor por n√∫mero (R$)</label>
              <input type="number" id="valorNumeroRifa" min="0" step="0.01" placeholder="Ex.: 3,00" required>
            </div>
            <div>
              <button type="submit" class="btn-small">Salvar rifa</button>
            </div>
          </div>
        </form>
        <p class="empty-msg" id="msgRifaVazia">Ainda n√£o h√° rifa configurada. Assim que a Zeni configurar, os n√∫meros ficar√£o dispon√≠veis.</p>
      </div>

      <div class="rifa-card" id="rifaCard" style="display:none;">
        <div class="rifa-header">
          <div class="rifa-info">
            <p>Pr√™mio: <strong id="textoPremioRifa"></strong></p>
            <p class="valor-rifa">Valor por n√∫mero: <span id="valorPorNumero"></span></p>
            <p style="font-size:0.85rem;color:#777;">N√∫meros dispon√≠veis: 1 a 100</p>
          </div>
          <span class="badge-rifa">Rifa ativa ‚Äì escolha seus n√∫meros e confirme via Pix</span>
        </div>

        <!-- Dados do participante -->
        <div class="form-grid">
          <div>
            <label for="nomeParticipante">Seu nome completo</label>
            <input type="text" id="nomeParticipante" placeholder="Nome completo">
          </div>
          <div>
            <label for="contatoParticipante">Telefone / WhatsApp</label>
            <input type="text" id="contatoParticipante" placeholder="Ex.: (69) 9XXXX-XXXX">
          </div>
        </div>

        <div class="numeros-grid" id="numerosGrid"></div>

        <p class="rifa-resumo">
          N√∫meros selecionados: <strong id="numerosSelecionados">nenhum</strong>
        </p>
        <p class="rifa-resumo">
          Total a pagar: <strong id="totalPagar">R$ 0,00</strong>
        </p>

        <button class="btn-primary" id="btnConfirmar">Confirmar escolha e registrar</button>

        <div class="pix-box" id="pixBox" style="display:none;">
          <p><strong>Fa√ßa o Pix para confirmar sua participa√ß√£o:</strong></p>
          <p>Chave Pix (celular):</p>
          <div class="pix-row">
            <input type="text" id="chavePixInput" readonly>
            <button type="button" class="btn-small" id="btnCopiarPix">Copiar Pix</button>
          </div>
          <p class="pix-label" id="pixNome"></p>
          <p class="pix-label" id="pixBanco"></p>

          <p style="margin-top:0.6rem;">
            Valor: <span id="valorPixTexto"></span><br>
            N√∫meros escolhidos: <span id="numerosPixTexto"></span>
          </p>
          <p style="margin-top:0.4rem;">
            Depois de pagar o Pix, clique no bot√£o abaixo para enviar o comprovante pelo WhatsApp.  
            A mensagem j√° vai pronta, com seus n√∫meros e o valor:
          </p>
          <a id="btnWhatsappComprovante"
             href="#"
             target="_blank"
             class="btn-secondary"
             style="margin-top:0.4rem; display:inline-block;">
            Enviar comprovante no WhatsApp
          </a>
        </div>

        <h4 style="margin-top:1.2rem;">Participantes desta rifa</h4>
        <p class="empty-msg" id="msgSemParticipantes">Nenhum n√∫mero vendido ainda.</p>
        <table class="tabela-participantes">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Contato</th>
              <th>N√∫meros</th>
            </tr>
          </thead>
          <tbody id="tabelaParticipantes"></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- SORTEIO -->
  <section id="sorteio">
    <h3>üé∞ Sorteio</h3>
    <p class="section-subtitle">
      Aqui acontece o sorteio oficial da rifa, sempre de forma aleat√≥ria e transparente. O n√∫mero vencedor, o nome e o telefone do ganhador ficam vis√≠veis para todos.
    </p>

    <div class="card-sorteio">
      <p style="font-size:0.85rem;color:#777;">
        O sorteio √© realizado apenas pela Zeni, ap√≥s a venda dos n√∫meros. O sistema escolhe automaticamente um dos n√∫meros vendidos.
      </p>

      <button id="btnSortear" class="btn-primary admin-only" style="margin-top:0.7rem;">Sortear vencedor agora</button>

      <div class="resultado-sorteio" id="resultadoSorteioBox" style="display:none;">
        <span class="badge-status" id="statusSorteio"></span>
        <h4>Resultado do √∫ltimo sorteio</h4>
        <p id="textoGanhador"></p>
        <p id="textoNumero"></p>
        <p id="textoData"></p>
      </div>

      <p style="font-size:0.85rem;color:#777;margin-top:0.7rem;">
        N√∫meros vendidos nesta rifa: <strong id="qtdNumerosVendidos">0</strong> ‚Äì Participantes: <strong id="qtdParticipantes">0</strong>
      </p>
    </div>
  </section>

  <!-- CONTATO -->
  <section id="contato">
    <h3>üì≤ Contato</h3>
    <p class="section-subtitle">
      Quer encomendar uma pe√ßa exclusiva, tirar d√∫vidas sobre as rifas ou combinar um modelo especial?
    </p>
    <p><strong>WhatsApp:</strong> (69) 99385-0180</p>
    <p>
      <a
        href="https://wa.me/5569993850180?text=Ol%C3%A1%2C%20Zeni!%20Acessei%20o%20site%20Croch%C3%AA%20da%20Zeni%20e%20gostaria%20de%20conversar%20sobre%20as%20pe%C3%A7as%20de%20croch%C3%AA%20e%20as%20rifas.%20Pode%20me%20ajudar%3F"
        target="_blank"
        class="btn-primary">
        Falar com a Zeni no WhatsApp
      </a>
    </p>
    <p><strong>Mensagem autom√°tica sugerida:</strong><br>
      ‚ÄúOl√°, Zeni! Acessei o site Croch√™ da Zeni e gostaria de conversar sobre as pe√ßas de croch√™ e as rifas. Pode me ajudar?‚Äù
    </p>
  </section>
</main>

<footer>
  ¬© <span id="anoAtual"></span> Croch√™ da Zeni ‚Äì Todos os direitos reservados.
</footer>

<script>
  // ================== CONFIGURA√á√ïES ==================
  const ADMIN_PASSWORD = "crochezeni123"; // troque se quiser
  const whatsappBase   = "5569993850180";
  const pixKey  = "69 99977-1852";
  const pixName = "Deivide Daniel Correia Ragnel";
  const pixBank = "Banco Mercado Pago";

  let isAdmin = false;

  // ================== √ÅREA ADMIN ==================
  const btnAdmin = document.getElementById('btnAdmin');
  const indicadorAdmin = document.getElementById('indicadorAdmin');

  function atualizarVisibilidadeAdmin() {
    const adminEls = document.querySelectorAll('.admin-only');
    adminEls.forEach(el => {
      el.style.display = isAdmin ? '' : 'none';
    });
    if (isAdmin) {
      indicadorAdmin.classList.add('mostrar');
      btnAdmin.textContent = "Sair do modo admin";
    } else {
      indicadorAdmin.classList.remove('mostrar');
      btnAdmin.textContent = "√Årea da Zeni (admin)";
    }
  }

  btnAdmin.addEventListener('click', () => {
    if (isAdmin) {
      isAdmin = false;
      atualizarVisibilidadeAdmin();
      return;
    }
    const senha = prompt("Digite a senha da Zeni:");
    if (senha === ADMIN_PASSWORD) {
      isAdmin = true;
      atualizarVisibilidadeAdmin();
      alert("Modo administradora ativado. Agora voc√™ pode gerenciar cat√°logo, rifa e sorteio.");
    } else if (senha !== null) {
      alert("Senha incorreta.");
    }
  });

  // ================== CAT√ÅLOGO ==================
  const formCatalogo = document.getElementById('formCatalogo');
  const catalogoGrid = document.getElementById('catalogoGrid');
  const msgCatalogoVazio = document.getElementById('msgCatalogoVazio');
  const tituloFormCatalogo = document.getElementById('tituloFormCatalogo');

  let catalogo = [];
  let indiceEdicao = null;

  function carregarCatalogo() {
    const salvo = localStorage.getItem('catalogoZeni');
    catalogo = salvo ? JSON.parse(salvo) : [];
    renderCatalogo();
  }

  function salvarCatalogo() {
    localStorage.setItem('catalogoZeni', JSON.stringify(catalogo));
  }

  function renderCatalogo() {
    catalogoGrid.innerHTML = "";
    if (catalogo.length === 0) {
      msgCatalogoVazio.style.display = "block";
      return;
    }
    msgCatalogoVazio.style.display = "none";

    catalogo.forEach((item, index) => {
      const card = document.createElement('div');
      card.classList.add('card');

      if (item.imagem) {
        const img = document.createElement('img');
        img.src = item.imagem;
        img.alt = item.nome;
        card.appendChild(img);
      }

      const title = document.createElement('h4');
      title.textContent = item.nome;
      card.appendChild(title);

      const desc = document.createElement('p');
      desc.textContent = item.descricao;
      card.appendChild(desc);

      const price = document.createElement('p');
      price.classList.add('price');
      price.textContent = `R$ ${item.preco.toFixed(2).replace('.', ',')}`;
      card.appendChild(price);

      const tag = document.createElement('span');
      tag.textContent = "Pe√ßa dispon√≠vel";
      tag.className = "tag-disponivel";
      card.appendChild(tag);

      const actions = document.createElement('div');
      actions.classList.add('card-actions');

      const btnEditar = document.createElement('button');
      btnEditar.textContent = "Editar";
      btnEditar.className = "btn-small admin-only";
      btnEditar.addEventListener('click', () => {
        indiceEdicao = index;
        tituloFormCatalogo.textContent = "Editar pe√ßa do cat√°logo";
        document.getElementById('nomePeca').value = item.nome;
        document.getElementById('descricaoPeca').value = item.descricao;
        document.getElementById('precoPeca').value = item.preco;
        document.getElementById('imagemPeca').value = item.imagem || "";
        window.scrollTo({ top: formCatalogo.offsetTop - 80, behavior: 'smooth' });
      });
      actions.appendChild(btnEditar);

      const btnExcluir = document.createElement('button');
      btnExcluir.textContent = "Excluir";
      btnExcluir.className = "btn-danger admin-only";
      btnExcluir.addEventListener('click', () => {
        if (confirm(`Voc√™ deseja mesmo excluir a pe√ßa "${item.nome}"?`)) {
          catalogo.splice(index, 1);
          salvarCatalogo();
          renderCatalogo();
        }
      });
      actions.appendChild(btnExcluir);

      const link = document.createElement('a');
      const msg = `Ol√°, Zeni! Vi a pe√ßa "${item.nome}" no site Croch√™ da Zeni e gostaria de saber se ela ainda est√° dispon√≠vel.`;
      const url = `https://wa.me/${whatsappBase}?text=${encodeURIComponent(msg)}`;
      link.href = url;
      link.target = "_blank";
      link.className = "btn-secondary";
      link.textContent = "Pedir pelo WhatsApp";
      actions.appendChild(link);

      card.appendChild(actions);
      catalogoGrid.appendChild(card);
    });

    atualizarVisibilidadeAdmin(); // reaplica visibilidade nos bot√µes admin
  }

  formCatalogo.addEventListener('submit', (e) => {
    e.preventDefault();
    const nome = document.getElementById('nomePeca').value.trim();
    const descricao = document.getElementById('descricaoPeca').value.trim();
    const precoRaw = document.getElementById('precoPeca').value;
    const imagem = document.getElementById('imagemPeca').value.trim();

    const preco = parseFloat(precoRaw.replace(',', '.'));

    if (!nome || !descricao || isNaN(preco)) {
      alert('Preencha nome, descri√ß√£o e pre√ßo corretamente.');
      return;
    }

    const novaPeca = { nome, descricao, preco, imagem };

    if (indiceEdicao === null) {
      catalogo.push(novaPeca);
    } else {
      catalogo[indiceEdicao] = novaPeca;
      indiceEdicao = null;
      tituloFormCatalogo.textContent = "Adicionar nova pe√ßa ao cat√°logo";
    }

    salvarCatalogo();
    renderCatalogo();
    formCatalogo.reset();
  });

  // ================== RIFA E PARTICIPANTES ==================
  const formRifa = document.getElementById('formRifa');
  const msgRifaVazia = document.getElementById('msgRifaVazia');
  const rifaCard = document.getElementById('rifaCard');
  const textoPremioRifa = document.getElementById('textoPremioRifa');
  const spanValorPorNumero = document.getElementById('valorPorNumero');

  const numerosGrid = document.getElementById('numerosGrid');
  const spanNumerosSelecionados = document.getElementById('numerosSelecionados');
  const spanTotalPagar = document.getElementById('totalPagar');
  const btnConfirmar = document.getElementById('btnConfirmar');
  const pixBox = document.getElementById('pixBox');
  const valorPixTexto = document.getElementById('valorPixTexto');
  const numerosPixTexto = document.getElementById('numerosPixTexto');
  const btnWhatsappComprovante = document.getElementById('btnWhatsappComprovante');

  const chavePixInput = document.getElementById('chavePixInput');
  const btnCopiarPix = document.getElementById('btnCopiarPix');
  const pixNome = document.getElementById('pixNome');
  const pixBanco = document.getElementById('pixBanco');

  const inputNomeParticipante = document.getElementById('nomeParticipante');
  const inputContatoParticipante = document.getElementById('contatoParticipante');

  const tabelaParticipantes = document.getElementById('tabelaParticipantes');
  const msgSemParticipantes = document.getElementById('msgSemParticipantes');

  let valorPorNumero = 0;
  const numerosReservados = new Set();
  let participantes = [];
  const numerosSelecionados = new Set();

  function carregarRifa() {
    const salvo = localStorage.getItem('rifaZeniConfig');
    if (salvo) {
      const rifa = JSON.parse(salvo);
      if (rifa && rifa.premio && rifa.valor) {
        document.getElementById('premioRifa').value = rifa.premio;
        document.getElementById('valorNumeroRifa').value = rifa.valor;
        textoPremioRifa.textContent = rifa.premio;
        valorPorNumero = rifa.valor;
        spanValorPorNumero.textContent = `R$ ${valorPorNumero.toFixed(2).replace('.', ',')}`;
        msgRifaVazia.style.display = "none";
        rifaCard.style.display = "block";
      }
    }
  }

  function salvarRifaConfig(premio, valor) {
    localStorage.setItem('rifaZeniConfig', JSON.stringify({ premio, valor }));
  }

  function carregarParticipantes() {
    const salvo = localStorage.getItem('rifaZeniParticipantes');
    participantes = salvo ? JSON.parse(salvo) : [];
    numerosReservados.clear();
    participantes.forEach(p => {
      (p.numeros || []).forEach(n => numerosReservados.add(Number(n)));
    });
    renderParticipantes();
  }

  function salvarParticipantes() {
    localStorage.setItem('rifaZeniParticipantes', JSON.stringify(participantes));
    numerosReservados.clear();
    participantes.forEach(p => {
      (p.numeros || []).forEach(n => numerosReservados.add(Number(n)));
    });
    atualizarResumoSorteioInfo();
  }

  function renderParticipantes() {
    tabelaParticipantes.innerHTML = "";
    if (participantes.length === 0) {
      msgSemParticipantes.style.display = "block";
    } else {
      msgSemParticipantes.style.display = "none";
    }

    participantes.forEach(p => {
      const tr = document.createElement('tr');
      const tdNome = document.createElement('td');
      const tdContato = document.createElement('td');
      const tdNumeros = document.createElement('td');

      tdNome.textContent = p.nome;
      tdContato.textContent = p.contato;
      tdNumeros.textContent = (p.numeros || []).sort((a,b) => a - b).join(', ');

      tr.appendChild(tdNome);
      tr.appendChild(tdContato);
      tr.appendChild(tdNumeros);
      tabelaParticipantes.appendChild(tr);
    });

    atualizarResumoSorteioInfo();
  }

  function gerarBotoesRifa() {
    numerosGrid.innerHTML = "";
    for (let i = 1; i <= 100; i++) {
      const btn = document.createElement('button');
      btn.textContent = i;
      btn.classList.add('numero-btn');
      btn.dataset.numero = i;

      if (numerosReservados.has(i)) {
        btn.classList.add('reservado');
        btn.disabled = true;
      }

      btn.addEventListener('click', () => {
        if (btn.classList.contains('reservado') || valorPorNumero <= 0) return;

        const numero = Number(btn.dataset.numero);
        if (btn.classList.contains('selecionado')) {
          btn.classList.remove('selecionado');
          numerosSelecionados.delete(numero);
        } else {
          btn.classList.add('selecionado');
          numerosSelecionados.add(numero);
        }
        atualizarResumoRifa();
      });

      numerosGrid.appendChild(btn);
    }
  }

  function atualizarResumoRifa() {
    const lista = Array.from(numerosSelecionados).sort((a, b) => a - b);
    spanNumerosSelecionados.textContent = lista.length ? lista.join(', ') : 'nenhum';
    const total = lista.length * valorPorNumero;
    spanTotalPagar.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
  }

  formRifa.addEventListener('submit', (e) => {
    e.preventDefault();
    const premio = document.getElementById('premioRifa').value.trim();
    const valorRaw = document.getElementById('valorNumeroRifa').value;

    const valor = parseFloat(valorRaw.replace(',', '.'));

    if (!premio || isNaN(valor) || valor <= 0) {
      alert('Preencha o pr√™mio e o valor por n√∫mero corretamente.');
      return;
    }

    textoPremioRifa.textContent = premio;
    valorPorNumero = valor;
    spanValorPorNumero.textContent = `R$ ${valorPorNumero.toFixed(2).replace('.', ',')}`;

    msgRifaVazia.style.display = "none";
    rifaCard.style.display = "block";

    salvarRifaConfig(premio, valor);
    atualizarResumoRifa();
  });

  btnConfirmar.addEventListener('click', () => {
    if (valorPorNumero <= 0) {
      alert('Antes de tudo, a Zeni precisa configurar o pr√™mio e o valor da rifa.');
      return;
    }
    if (numerosSelecionados.size === 0) {
      alert('Selecione pelo menos um n√∫mero para participar da rifa.');
      return;
    }

    const nome = inputNomeParticipante.value.trim();
    const contato = inputContatoParticipante.value.trim();

    if (!nome || !contato) {
      alert('Preencha seu nome e telefone/WhatsApp.');
      return;
    }

    const lista = Array.from(numerosSelecionados).sort((a, b) => a - b);
    const total = lista.length * valorPorNumero;

    // registra participante
    participantes.push({
      nome,
      contato,
      numeros: lista
    });
    salvarParticipantes();

    // marca n√∫meros como reservados
    lista.forEach(n => numerosReservados.add(n));

    // atualiza grade e limpa sele√ß√£o
    numerosSelecionados.clear();
    gerarBotoesRifa();
    atualizarResumoRifa();
    renderParticipantes();

    // mostra caixa de Pix
    valorPixTexto.textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
    numerosPixTexto.textContent = lista.join(', ');
    pixBox.style.display = 'block';

    const mensagem =
      `Ol√°, Zeni! Acabei de participar da rifa do croch√™.%0A%0A` +
      `Nome: ${nome}%0A` +
      `Contato: ${contato}%0A` +
      `N√∫meros escolhidos: ${lista.join(', ')}%0A` +
      `Valor a pagar/pago: R$ ${total.toFixed(2).replace('.', ',')}%0A` +
      `Fiz o Pix para a chave ${pixKey} (${pixName}, ${pixBank}).%0A` +
      `Por favor, confira e confirme meus n√∫meros. Obrigado(a)!`;

    btnWhatsappComprovante.href = `https://wa.me/${whatsappBase}?text=${mensagem}`;

    // limpa campos
    inputNomeParticipante.value = "";
    inputContatoParticipante.value = "";
  });

  // Copiar Pix
  btnCopiarPix.addEventListener('click', () => {
    const texto = chavePixInput.value;
    function ok() {
      btnCopiarPix.textContent = "Copiado!";
      setTimeout(() => btnCopiarPix.textContent = "Copiar Pix", 1500);
    }
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(texto).then(ok).catch(() => {
        chavePixInput.select();
        document.execCommand('copy');
        ok();
      });
    } else {
      chavePixInput.select();
      document.execCommand('copy');
      ok();
    }
  });

  // ================== SORTEIO ==================
  const btnSortear = document.getElementById('btnSortear');
  const resultadoSorteioBox = document.getElementById('resultadoSorteioBox');
  const statusSorteio = document.getElementById('statusSorteio');
  const textoGanhador = document.getElementById('textoGanhador');
  const textoNumero = document.getElementById('textoNumero');
  const textoData = document.getElementById('textoData');
  const spanQtdNumeros = document.getElementById('qtdNumerosVendidos');
  const spanQtdParticipantes = document.getElementById('qtdParticipantes');

  function atualizarResumoSorteioInfo() {
    let totalNumeros = 0;
    participantes.forEach(p => {
      totalNumeros += (p.numeros || []).length;
    });
    spanQtdNumeros.textContent = totalNumeros;
    spanQtdParticipantes.textContent = participantes.length;
  }

  function carregarResultadoSorteio() {
    const salvo = localStorage.getItem('rifaZeniResultado');
    if (!salvo) {
      resultadoSorteioBox.style.display = "none";
      return;
    }
    const res = JSON.parse(salvo);
    mostrarResultadoSorteio(res);
  }

  function mostrarResultadoSorteio(res) {
    resultadoSorteioBox.style.display = "block";
    statusSorteio.textContent = "√öltimo sorteio registrado";
    const hora = new Date(res.data);
    textoGanhador.textContent = `Ganhador(a): ${res.nome} ‚Äì Telefone/WhatsApp: ${res.contato}`;
    textoNumero.textContent = `N√∫mero sorteado: ${res.numero}`;
    textoData.textContent = `Data e hora do sorteio: ${hora.toLocaleString('pt-BR')}`;
  }

  btnSortear.addEventListener('click', () => {
    if (!isAdmin) {
      alert("Apenas a Zeni (admin) pode realizar o sorteio.");
      return;
    }
    let todos = [];
    participantes.forEach(p => {
      (p.numeros || []).forEach(n => {
        todos.push({ numero: n, nome: p.nome, contato: p.contato });
      });
    });
    if (todos.length === 0) {
      alert("N√£o h√° n√∫meros vendidos para sortear.");
      return;
    }
    if (!confirm("Confirmar sorteio agora? Esta a√ß√£o ser√° registrada.")) return;

    const idx = Math.floor(Math.random() * todos.length);
    const vencedor = todos[idx];
    const resultado = {
      numero: vencedor.numero,
      nome: vencedor.nome,
      contato: vencedor.contato,
      data: new Date().toISOString()
    };
    localStorage.setItem('rifaZeniResultado', JSON.stringify(resultado));
    mostrarResultadoSorteio(resultado);
    alert(`N√∫mero sorteado: ${vencedor.numero} ‚Äì ${vencedor.nome}`);
  });

  // ================== INICIALIZA√á√ÉO ==================
  document.getElementById('anoAtual').textContent = new Date().getFullYear();
  chavePixInput.value = pixKey;
  pixNome.textContent  = `Favorecido: ${pixName}`;
  pixBanco.textContent = `Banco: ${pixBank}`;

  carregarCatalogo();
  carregarRifa();
  carregarParticipantes();
  gerarBotoesRifa();
  carregarResultadoSorteio();
  atualizarVisibilidadeAdmin();
</script>

</body>
</html>



